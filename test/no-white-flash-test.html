<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞</title>
    <style>
        /* –ö—Ä–∏—Ç–∏—á–Ω–æ: –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω */
        html {
            background: #000 !important;
        }
        
        body {
            background: #000 !important;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            color: white;
            transition: background 0.5s ease;
        }
        
        /* –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏ —Ç–µ—Å—Ç–µ */
        body.testing .content {
            visibility: hidden;
        }
        
        /* –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —á—ë—Ä–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */
        .initial-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #000;
            z-index: 99999;
            opacity: 1;
            pointer-events: none;
        }
        
        .content {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .test-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-button {
            padding: 15px 30px;
            font-size: 16px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }
        
        .test-button:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .status {
            margin-top: 20px;
            padding: 15px;
            background: rgba(52, 152, 219, 0.2);
            border-radius: 8px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }
        
        .success {
            background: rgba(46, 204, 113, 0.2);
            border-color: rgba(46, 204, 113, 0.3);
        }
        
        .warning {
            background: rgba(241, 196, 15, 0.2);
            border-color: rgba(241, 196, 15, 0.3);
        }
        
        /* –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–æ–Ω —Å–∞–π—Ç–∞ */
        .normal-bg {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%) !important;
        }
    </style>
</head>
<body>
    <!-- –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —á—ë—Ä–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π -->
    <div id="initialOverlay" class="initial-overlay"></div>
    
    <div class="content">
        <div class="test-container">
            <h1>üñ§ –¢–µ—Å—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞</h1>
            <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–µ—Ç –±–µ–ª–æ–≥–æ –º–∏–≥–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ</p>
            
            <button class="test-button" onclick="testBlackStart()">–¢–µ—Å—Ç —á—ë—Ä–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞</button>
            <button class="test-button" onclick="testTransition()">–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞</button>
            <button class="test-button" onclick="testNormalLoad()">–¢–µ—Å—Ç –æ–±—ã—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏</button>
            <button class="test-button" onclick="resetToBlack()">–°–±—Ä–æ—Å –≤ —á—ë—Ä–Ω—ã–π</button>
            
            <div class="status" id="status">–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞</div>
        </div>
    </div>

    <script>
        const initialOverlay = document.getElementById('initialOverlay');
        const statusEl = document.getElementById('status');

        function updateStatus(message, className = '') {
            statusEl.textContent = message;
            statusEl.className = `status ${className}`;
        }

        function testBlackStart() {
            updateStatus('–¢–µ—Å—Ç: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á—ë—Ä–Ω–æ–π —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞', 'warning');
            
            // –°–±—Ä–æ—Å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            document.documentElement.style.background = '#000';
            document.body.style.background = '#000';
            document.body.classList.add('testing');
            initialOverlay.style.display = 'block';
            initialOverlay.style.opacity = '1';
            
            setTimeout(() => {
                updateStatus('‚úÖ –ß—ë—Ä–Ω—ã–π —Ñ–æ–Ω –∞–∫—Ç–∏–≤–µ–Ω —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞!', 'success');
            }, 500);
        }

        function testTransition() {
            updateStatus('–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞: —á—ë—Ä–Ω—ã–π ‚Üí –∫–æ–Ω—Ç–µ–Ω—Ç ‚Üí –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–æ–Ω', '');
            
            // –≠—Ç–∞–ø 1: –ß—ë—Ä–Ω—ã–π —Å—Ç–∞—Ä—Ç
            document.documentElement.style.background = '#000';
            document.body.style.background = '#000';
            document.body.classList.add('testing');
            initialOverlay.style.display = 'block';
            initialOverlay.style.opacity = '1';
            initialOverlay.style.transition = 'none';
            
            setTimeout(() => {
                updateStatus('–≠—Ç–∞–ø 1: –ß—ë—Ä–Ω—ã–π —Å—Ç–∞—Ä—Ç ‚úì');
            }, 200);
            
            // –≠—Ç–∞–ø 2: –ü–æ–∫–∞–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            setTimeout(() => {
                updateStatus('–≠—Ç–∞–ø 2: –ü–æ–∫–∞–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ ‚úì');
                document.body.classList.remove('testing');
            }, 700);
            
            // –≠—Ç–∞–ø 3: –ù–∞—á–∞–ª–æ fade-out
            setTimeout(() => {
                updateStatus('–≠—Ç–∞–ø 3: Fade-out —á—ë—Ä–Ω–æ–≥–æ –æ–≤–µ—Ä–ª–µ—è ‚úì');
                initialOverlay.style.transition = 'opacity 1.5s ease-out';
                initialOverlay.style.opacity = '0';
            }, 1200);
            
            // –≠—Ç–∞–ø 4: –°–º–µ–Ω–∞ —Ñ–æ–Ω–∞
            setTimeout(() => {
                updateStatus('–≠—Ç–∞–ø 4: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–æ–Ω ‚úì');
                document.documentElement.style.background = '';
                document.body.classList.add('normal-bg');
            }, 1700);
            
            // –§–∏–Ω–∞–ª
            setTimeout(() => {
                updateStatus('üéâ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞–≤–µ—Ä—à—ë–Ω –±–µ–∑ –±–µ–ª—ã—Ö –≤—Å–ø—ã—à–µ–∫!', 'success');
                setTimeout(() => {
                    initialOverlay.style.display = 'none';
                }, 500);
            }, 2700);
        }

        function testNormalLoad() {
            updateStatus('–¢–µ—Å—Ç –æ–±—ã—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å index.html)', '');
            
            // –û–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - —Å—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–∏–¥
            initialOverlay.style.display = 'none';
            document.documentElement.style.background = '';
            document.body.classList.remove('testing');
            document.body.classList.add('normal-bg');
            
            setTimeout(() => {
                updateStatus('‚úÖ –û–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - –æ–≤–µ—Ä–ª–µ–π —Å—Ä–∞–∑—É —Å–∫—Ä—ã—Ç', 'success');
            }, 100);
        }

        function resetToBlack() {
            updateStatus('–°–±—Ä–æ—Å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —á—ë—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ', 'warning');
            
            document.documentElement.style.background = '#000';
            document.body.style.background = '#000';
            document.body.classList.remove('normal-bg', 'testing');
            initialOverlay.style.display = 'block';
            initialOverlay.style.opacity = '1';
            initialOverlay.style.transition = 'none';
            
            setTimeout(() => {
                updateStatus('–ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–º—É —Ç–µ—Å—Ç—É (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω)', '');
            }, 300);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            // –ò–º–∏—Ç–∏—Ä—É–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ content.html
            const fromIndex = window.location.search.includes('from=index');
            
            if (fromIndex) {
                updateStatus('–û–±–Ω–∞—Ä—É–∂–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä from=index - —Å—Ç–∞—Ä—Ç —Å —á—ë—Ä–Ω–æ–≥–æ', 'warning');
                testTransition();
            } else {
                updateStatus('–û–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', '');
            }
        });
    </script>
</body>
</html>