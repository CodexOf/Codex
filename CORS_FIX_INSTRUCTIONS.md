# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã CORS - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
–û—à–∏–±–∫–∞ CORS –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä `https://codex-backend-production.up.railway.app` –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–æ–º `https://codexof.github.io`.

## –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚úÖ

–Ø –æ–±–Ω–æ–≤–∏–ª —Ñ–∞–π–ª `js/auth.js` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º fallback –Ω–∞ CORS –ø—Ä–æ–∫—Å–∏. –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:

1. **–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ—Ç** –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
2. **–ü—Ä–∏ –æ—à–∏–±–∫–µ CORS** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä
3. **–õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å** –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** auth.html
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏** —Å–Ω–æ–≤–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1/2: https://codex-backend-production.up.railway.app
   üîÑ –ü–æ–ø—ã—Ç–∫–∞ 2/2: https://cors-anywhere.herokuapp.com/https://codex-backend-production.up.railway.app
   ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä 2
   ```

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ CORS –ø—Ä–æ–∫—Å–∏
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://cors-anywhere.herokuapp.com/corsdemo –∏ –Ω–∞–∂–º–∏—Ç–µ "Request temporary access"

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –õ–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞:

```javascript
// –î–æ–±–∞–≤—å—Ç–µ –≤ auth.js –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const DEMO_USERS = {
    'demo': 'password',
    'test': '123456',
    'admin': 'admin'
};

async function demoLogin(username, password) {
    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    if (DEMO_USERS[username] === password) {
        localStorage.setItem('authToken', 'demo-token-' + Date.now());
        localStorage.setItem('currentUser', username);
        return { success: true, user: username };
    } else {
        return { success: false, error: '–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' };
    }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç –í: –û–±–Ω–æ–≤–∏—Ç–µ auth.html
–î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö:

```html
<div style="background: rgba(46, 204, 113, 0.1); border: 1px solid rgba(46, 204, 113, 0.3); padding: 12px; border-radius: 8px; margin-bottom: 20px; font-size: 0.85rem; color: #2ecc71;">
    <strong>–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</strong><br>
    demo / password<br>
    test / 123456
</div>
```

## –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Ä–≤–µ—Ä–∞:
–û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```javascript
app.use(cors({
  origin: [
    'https://codexof.github.io',
    'http://localhost:3000',
    'http://127.0.0.1:5500'
  ],
  credentials: true
}));
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
1. **Vercel/Netlify —Ñ—É–Ω–∫—Ü–∏–∏** - —Å–æ–∑–¥–∞—Ç—å proxy endpoint
2. **GitHub Actions** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
3. **Cloudflare Workers** - CORS proxy

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è auth.js:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ auth.html**
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)**
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏**
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ª–æ–≥–∞—Ö:**
   - `üîê AuthManager —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω`
   - `üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1/2: ...`
   - `‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä X`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
window.authManager.getAuthStatus()

// –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
window.authManager.checkServerStatus()

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–µ—Ä–≤–µ—Ä–µ
console.log('–¢–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä:', window.authManager.baseURL)
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

‚úÖ **–£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –±–µ–∑ –æ—à–∏–±–æ–∫ CORS
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏** –≤ –∫–æ–Ω—Å–æ–ª–∏
‚úÖ **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `auth.js` –º–µ—Ç–æ–¥—ã login –∏ register –Ω–∞:

```javascript
async login(username, password) {
    // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    const validUsers = {
        'demo': 'password',
        'test': '123456',
        'admin': 'admin123'
    };
    
    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    if (validUsers[username] === password) {
        localStorage.setItem('authToken', 'local-token-' + Date.now());
        localStorage.setItem('currentUser', username);
        localStorage.setItem('userId', 'local-' + username);
        
        console.log('‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –≤—Ö–æ–¥:', username);
        return { success: true, user: username };
    } else {
        console.log('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
        return { success: false, error: '–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' };
    }
}

async register(username, password) {
    // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    if (username.length >= 3 && password.length >= 6) {
        localStorage.setItem('authToken', 'local-token-' + Date.now());
        localStorage.setItem('currentUser', username);
        localStorage.setItem('userId', 'local-' + username);
        
        console.log('‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:', username);
        return { success: true, user: username };
    } else {
        return { success: false, error: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö' };
    }
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

## –°—Ç–∞—Ç—É—Å

- ‚úÖ –§–∞–π–ª `js/auth.js` –æ–±–Ω–æ–≤–ª–µ–Ω —Å CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ fallback —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ –ì–æ—Ç–æ–≤—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å–µ–π—á–∞—Å - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!**
